.. _parameters:

run() parameters
================

Main parameters
---------------

+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| Parameter Name  | Type          | Default                       | Documentation                                                                                            |
+=================+===============+===============================+==========================================================================================================+
| energy_window   | (float,float) | --                            | Estimated lower and upper bounds of the spectrum.                                                        |
|                 |               |                               | Negative values of the lower bound will be reset to 0 for susceptibilities and conductivity.             |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| max_time        | int           | -1 = infinite                 | Maximum runtime in seconds, use -1 to set infinite.                                                      |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| verbosity       | int           | 2 on MPI rank 0, 0 otherwise. | Verbosity level (max level - 3).                                                                         |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| t               | int           | 50                            | Number of elementary updates per global update (:math:`T`).                                              |
|                 |               |                               | Bigger values make the algorithm more ergodic.                                                           |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| f               | int           | 100                           | Number of global updates (:math:`F`); ignored if `adjust_f = True`.                                      |
|                 |               |                               | Bigger values make the algorithm more ergodic.                                                           |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| adjust_f        | bool          | False                         | Adjust the number of global updates automatically.                                                       |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| l               | int           | 2000                          | Number of particular solutions used in the final accumulation (:math:`L`); ignored if `adjust_l = True`. |
|                 |               |                               | Bigger values reduce noise in the final solution / make it smoother.                                     |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| adjust_l        | bool          | False                         | Adjust the number of solutions used in the final accumulation.                                           |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+
| make_histograms | bool          | False                         | Accumulate histograms of objective function values.                                                      |
+-----------------+---------------+-------------------------------+----------------------------------------------------------------------------------------------------------+

Fine tuning options
-------------------

+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| Parameter Name      | Type      | Default                       | Documentation                                                                                       |
+=====================+===========+===============================+=====================================================================================================+
| random_seed         | int       | 34788 + 928374 * MPI.rank     | Seed for random number generator.                                                                   |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| random_name         | str       | ""                            | Name of random number generator.                                                                    |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| max_rects           | int       | 60                            | Maximum number of rectangles to represent spectra (:math:`K_{max}`), should be below 70.            |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| min_rect_width      | float     | 1e-3                          | Minimal width of a rectangle, in units of the energy window width.                                  |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| min_rect_weight     | float     | 1e-3                          | Minimal weight of a rectangle, in units of the requested solution norm.                             |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| distrib_d_max       | float     | 2                             | Maximal parameter of the power-law distribution function for the Metropolis algorithm.              |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| gamma               | float     | 2                             | Proposal probability parameter :math:`\gamma`.                                                      |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_f_range      | (int,int) | (100,5000)                    | Search range for the number of global updates.                                                      |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_f_l          | int       | 20                            | Number of particular solutions used to adjust :math:`F`.                                            |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_f_kappa      | float     | 0.25                          | Limiting value of :math:`\kappa` used to adjust :math:`F`.                                          |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_l_range      | (int,int) | (100,2000)                    | Search range for the number of solutions used in the final accumulation.                            |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_l_good_d     | float     | 2.0                           | Maximal ratio :math:`D/D_\mathrm{min}` for a particular solution to be considered good.             |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_l_verygood_d | float     | 4/3                           | Maximal ratio :math:`D/D_\mathrm{min}` for a particular solution to be considered very good.        |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| adjust_l_ratio      | float     | 0.95                          | Critical ratio :math:`N_\mathrm{very good}/N_\mathrm{good}` to stop :math:`L`-adjustment procedure. |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| hist_max            | float     | 2.0                           | Right boundary of the histograms, in units of :math:`D_\mathrm{min}`                                |
|                     |           |                               | (left boundary is always set to :math:`D_\mathrm{min}`).                                            |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
| hist_n_bins         | int       | 100                           | Number of bins for the histograms.                                                                  |
+---------------------+-----------+-------------------------------+-----------------------------------------------------------------------------------------------------+
